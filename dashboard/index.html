<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jarvis OS â€” Mission Control</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>

<div class="app-container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-logo">
      <div class="logo-icon">âš¡</div>
      <div>
        <h1>Jarvis OS</h1>
        <span>Mission Control v1.0</span>
      </div>
    </div>

    <nav class="sidebar-nav">
      <div class="nav-section">
        <div class="nav-section-title">Overview</div>
        <div class="nav-item active" data-page="dashboard">
          <span class="nav-icon">ğŸ“Š</span> Dashboard
        </div>
        <div class="nav-item" data-page="agents">
          <span class="nav-icon">ğŸ¤–</span> Agents
          <span class="badge" id="agent-count-badge">0</span>
        </div>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Workspace</div>
        <div class="nav-item" data-page="chat">
          <span class="nav-icon">ğŸ’¬</span> Chat
        </div>
        <div class="nav-item" data-page="logs">
          <span class="nav-icon">ğŸ“‹</span> Logs
        </div>
        <div class="nav-item" data-page="memory">
          <span class="nav-icon">ğŸ§ </span> Memory
        </div>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">System</div>
        <div class="nav-item" data-page="settings">
          <span class="nav-icon">âš™ï¸</span> Settings
        </div>
        <div class="nav-item" data-page="plugins">
          <span class="nav-icon">ğŸ”Œ</span> Plugins
        </div>
        <div class="nav-item" data-page="help">
          <span class="nav-icon">â“</span> Help
        </div>
      </div>
    </nav>
  </aside>

  <!-- Main -->
  <main class="main-content">

    <!-- â•â•â•â•â•â•â•â• DASHBOARD PAGE â•â•â•â•â•â•â•â• -->
    <div id="page-dashboard" class="page">
      <div class="main-header">
        <h2>Dashboard</h2>
        <div class="header-actions">
          <button class="btn btn-primary" onclick="openNewAgentModal()">
            â• New Agent
          </button>
        </div>
      </div>
      <div class="page-content fade-in">
        <!-- Stats -->
        <div class="grid grid-4" style="margin-bottom: 24px">
          <div class="stat-card">
            <div class="stat-label">Active Agents</div>
            <div class="stat-value" id="stat-active">0</div>
            <div class="stat-change positive" id="stat-active-note">No agents yet</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Memory Entries</div>
            <div class="stat-value" id="stat-memory">0</div>
            <div class="stat-change">Conversations + knowledge</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Tools Available</div>
            <div class="stat-value" id="stat-tools">8</div>
            <div class="stat-change">Built-in tools</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">LLM Provider</div>
            <div class="stat-value" id="stat-provider" style="font-size:1.2rem">Not configured</div>
            <div class="stat-change" id="stat-model-note">Set up in Settings</div>
          </div>
        </div>

        <!-- Recent agents -->
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Your Agents</h3>
            <button class="btn btn-secondary btn-sm" onclick="openNewAgentModal()">Create New</button>
          </div>
          <div id="dashboard-agents-list">
            <div class="empty-state">
              <div class="empty-icon">ğŸ¤–</div>
              <h3>No agents yet</h3>
              <p>Create your first AI agent to get started.</p>
              <button class="btn btn-primary" onclick="openNewAgentModal()">â• Create Agent</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â• AGENTS PAGE â•â•â•â•â•â•â•â• -->
    <div id="page-agents" class="page hidden">
      <div class="main-header">
        <h2>Agents</h2>
        <div class="header-actions">
          <button class="btn btn-primary" onclick="openNewAgentModal()">â• New Agent</button>
        </div>
      </div>
      <div class="page-content fade-in">
        <div class="grid grid-3" id="agents-grid">
          <!-- Populated by JS -->
        </div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â• CHAT PAGE â•â•â•â•â•â•â•â• -->
    <div id="page-chat" class="page hidden">
      <div class="main-header">
        <h2>ğŸ’¬ Chat â€” <span id="chat-agent-name">Select an agent</span></h2>
        <div class="header-actions">
          <select class="form-select" id="chat-agent-select" onchange="switchChatAgent(this.value)" style="width:200px">
            <option value="">Select agent...</option>
          </select>
        </div>
      </div>
      <div class="page-content" style="padding:16px 32px 32px">
        <div class="chat-container">
          <div class="chat-messages" id="chat-messages">
            <div class="empty-state">
              <div class="empty-icon">ğŸ’¬</div>
              <h3>Start a conversation</h3>
              <p>Select an agent above to begin chatting.</p>
            </div>
          </div>
          <div class="chat-input-area">
            <textarea id="chat-input" placeholder="Type a message..." rows="1" onkeydown="handleChatKey(event)" disabled></textarea>
            <button class="chat-send-btn" id="chat-send" onclick="sendMessage()" disabled>â†’</button>
          </div>
        </div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â• LOGS PAGE â•â•â•â•â•â•â•â• -->
    <div id="page-logs" class="page hidden">
      <div class="main-header">
        <h2>ğŸ“‹ Activity Logs</h2>
        <div class="header-actions">
          <button class="btn btn-secondary btn-sm" onclick="clearLogs()">Clear</button>
        </div>
      </div>
      <div class="page-content fade-in">
        <div class="log-viewer" id="log-viewer">
          <!-- Populated by JS -->
        </div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â• MEMORY PAGE â•â•â•â•â•â•â•â• -->
    <div id="page-memory" class="page hidden">
      <div class="main-header">
        <h2>ğŸ§  Agent Memory</h2>
      </div>
      <div class="page-content fade-in">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Search Memory</h3>
          </div>
          <div class="form-input-group" style="margin-bottom: 20px">
            <input type="text" class="form-input" id="memory-search" placeholder="Search knowledge, conversations...">
            <button class="btn btn-primary" onclick="searchMemory()">Search</button>
          </div>
          <div id="memory-results">
            <p style="color: var(--text-muted)">Search to find stored knowledge and conversations.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â• SETTINGS PAGE â•â•â•â•â•â•â•â• -->
    <div id="page-settings" class="page hidden">
      <div class="main-header">
        <h2>âš™ï¸ Settings</h2>
      </div>
      <div class="page-content fade-in">
        <div class="tabs">
          <div class="tab active" data-tab="api-keys">API Keys</div>
          <div class="tab" data-tab="general">General</div>
          <div class="tab" data-tab="integrations">Integrations</div>
        </div>

        <!-- API Keys Tab -->
        <div id="tab-api-keys" class="tab-content">
          <p style="color: var(--text-secondary); margin-bottom: 20px; font-size: 0.9rem">
            Configure your LLM provider API keys. Each agent can use a different provider.
          </p>

          <!-- OpenAI -->
          <div class="api-key-card">
            <div class="provider-icon" style="background: rgba(0,166,126,0.15)">ğŸŸ¢</div>
            <div class="provider-info">
              <div class="provider-name">OpenAI</div>
              <div class="provider-status" id="openai-status" style="color: var(--text-muted)">Not configured</div>
            </div>
            <input type="password" class="form-input key-input" id="key-openai" placeholder="sk-..." style="max-width:260px">
            <button class="btn btn-secondary btn-sm" onclick="saveApiKey('openai')">Save</button>
          </div>

          <!-- Anthropic -->
          <div class="api-key-card">
            <div class="provider-icon" style="background: rgba(204,120,50,0.15)">ğŸŸ </div>
            <div class="provider-info">
              <div class="provider-name">Anthropic</div>
              <div class="provider-status" id="anthropic-status" style="color: var(--text-muted)">Not configured</div>
            </div>
            <input type="password" class="form-input key-input" id="key-anthropic" placeholder="sk-ant-..." style="max-width:260px">
            <button class="btn btn-secondary btn-sm" onclick="saveApiKey('anthropic')">Save</button>
          </div>

          <!-- Ollama -->
          <div class="api-key-card">
            <div class="provider-icon" style="background: rgba(99,102,241,0.15)">ğŸŸ£</div>
            <div class="provider-info">
              <div class="provider-name">Ollama (Local)</div>
              <div class="provider-status" id="ollama-status" style="color: var(--text-muted)">Free â€” runs on your GPU</div>
            </div>
            <input type="text" class="form-input key-input" id="key-ollama" placeholder="http://localhost:11434" style="max-width:260px" value="http://localhost:11434">
            <button class="btn btn-secondary btn-sm" onclick="saveApiKey('ollama')">Test</button>
          </div>

          <!-- Google -->
          <div class="api-key-card">
            <div class="provider-icon" style="background: rgba(66,133,244,0.15)">ğŸ”µ</div>
            <div class="provider-info">
              <div class="provider-name">Google Gemini</div>
              <div class="provider-status" id="google-status" style="color: var(--text-muted)">Not configured</div>
            </div>
            <input type="password" class="form-input key-input" id="key-google" placeholder="AI..." style="max-width:260px">
            <button class="btn btn-secondary btn-sm" onclick="saveApiKey('google')">Save</button>
          </div>
        </div>

        <!-- General Tab -->
        <div id="tab-general" class="tab-content hidden">
          <div class="card" style="max-width:600px">
            <div class="form-group">
              <label class="form-label">Default Agent Name</label>
              <input type="text" class="form-input" id="setting-agent-name" value="Jarvis">
            </div>
            <div class="form-group">
              <label class="form-label">Default Model</label>
              <select class="form-select" id="setting-default-model">
                <optgroup label="OpenAI">
                  <option value="gpt-4o">GPT-4o</option>
                  <option value="gpt-4o-mini">GPT-4o Mini</option>
                  <option value="gpt-4.1">GPT-4.1</option>
                  <option value="gpt-4.1-mini">GPT-4.1 Mini</option>
                  <option value="o3-mini">o3-mini</option>
                  <option value="o4-mini">o4-mini</option>
                </optgroup>
                <optgroup label="Anthropic">
                  <option value="claude-sonnet-4-20250514">Claude Sonnet 4</option>
                  <option value="claude-3-5-haiku-20241022">Claude 3.5 Haiku</option>
                </optgroup>
                <optgroup label="Google">
                  <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
                  <option value="gemini-2.5-flash">Gemini 2.5 Flash</option>
                </optgroup>
                <optgroup label="Ollama (Free)">
                  <option value="llama3.1">Llama 3.1</option>
                  <option value="mistral">Mistral</option>
                </optgroup>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Server Port</label>
              <input type="number" class="form-input" id="setting-port" value="8080" style="max-width:120px">
            </div>
            <div class="form-group">
              <label class="toggle">
                <input type="checkbox" id="setting-auto-memory" checked>
                <span class="toggle-track"></span>
                Auto-save conversations to memory
              </label>
            </div>
            <button class="btn btn-primary" onclick="saveGeneralSettings()">Save Settings</button>
          </div>
        </div>

        <!-- Integrations Tab -->
        <div id="tab-integrations" class="tab-content hidden">
          <div class="grid grid-2">
            <div class="api-key-card" style="flex-direction:column; align-items:flex-start; gap:12px">
              <div style="display:flex; align-items:center; gap:12px">
                <div class="provider-icon" style="background:rgba(74,21,75,0.2)">ğŸ’¬</div>
                <div>
                  <div class="provider-name">Slack</div>
                  <div class="provider-status" style="color:var(--text-muted)">Bot token for messaging</div>
                </div>
              </div>
              <input type="password" class="form-input" id="key-slack" placeholder="xoxb-..." style="width:100%">
              <button class="btn btn-secondary btn-sm" onclick="saveApiKey('slack')">Save</button>
            </div>

            <div class="api-key-card" style="flex-direction:column; align-items:flex-start; gap:12px">
              <div style="display:flex; align-items:center; gap:12px">
                <div class="provider-icon" style="background:rgba(29,161,242,0.15)">ğŸ¦</div>
                <div>
                  <div class="provider-name">Twitter / X</div>
                  <div class="provider-status" style="color:var(--text-muted)">For social media agents</div>
                </div>
              </div>
              <input type="password" class="form-input" id="key-twitter" placeholder="API key..." style="width:100%">
              <button class="btn btn-secondary btn-sm" onclick="saveApiKey('twitter')">Save</button>
            </div>

            <div class="api-key-card" style="flex-direction:column; align-items:flex-start; gap:12px">
              <div style="display:flex; align-items:center; gap:12px">
                <div class="provider-icon" style="background:rgba(255,255,255,0.08)">ğŸ™</div>
                <div>
                  <div class="provider-name">GitHub</div>
                  <div class="provider-status" style="color:var(--text-muted)">Personal access token</div>
                </div>
              </div>
              <input type="password" class="form-input" id="key-github" placeholder="ghp_..." style="width:100%">
              <button class="btn btn-secondary btn-sm" onclick="saveApiKey('github')">Save</button>
            </div>

            <div class="api-key-card" style="flex-direction:column; align-items:flex-start; gap:12px">
              <div style="display:flex; align-items:center; gap:12px">
                <div class="provider-icon" style="background:rgba(99,102,241,0.15)">ğŸ“§</div>
                <div>
                  <div class="provider-name">Email (SMTP)</div>
                  <div class="provider-status" style="color:var(--text-muted)">For email notifications</div>
                </div>
              </div>
              <input type="text" class="form-input" id="key-email" placeholder="smtp://user:pass@host:587" style="width:100%">
              <button class="btn btn-secondary btn-sm" onclick="saveApiKey('email')">Save</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â• PLUGINS PAGE â•â•â•â•â•â•â•â• -->
    <div id="page-plugins" class="page hidden">
      <div class="main-header">
        <h2>ğŸ”Œ Plugins</h2>
      </div>
      <div class="page-content fade-in">
        <div class="card" style="margin-bottom: 20px">
          <div class="card-header">
            <h3 class="card-title">Custom Tools</h3>
          </div>
          <p style="color: var(--text-secondary); margin-bottom: 16px; font-size: 0.9rem">
            Add custom tools by dropping Python files into the <code style="background:var(--bg-input);padding:2px 6px;border-radius:3px">plugins/</code> folder.
            Each plugin is automatically loaded when Jarvis starts.
          </p>
          <div id="plugins-list">
            <div class="api-key-card">
              <div class="provider-icon" style="background:rgba(34,197,94,0.15)">ğŸŒ¤ï¸</div>
              <div class="provider-info">
                <div class="provider-name">get_weather</div>
                <div class="provider-status" style="color:var(--text-muted)">Get current weather for a city</div>
              </div>
              <span class="status status-running"><span class="status-dot"></span> loaded</span>
            </div>
            <div class="api-key-card">
              <div class="provider-icon" style="background:rgba(245,158,11,0.15)">ğŸ’°</div>
              <div class="provider-info">
                <div class="provider-name">get_crypto_price</div>
                <div class="provider-status" style="color:var(--text-muted)">Get cryptocurrency price in USD</div>
              </div>
              <span class="status status-running"><span class="status-dot"></span> loaded</span>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Create a Plugin</h3>
          </div>
          <div class="log-viewer" style="max-height:260px">
<span style="color:var(--text-muted)"># plugins/my_tool.py</span>
<span style="color:var(--cyan)">from</span> jarvis.plugins <span style="color:var(--cyan)">import</span> plugin_tool

<span style="color:var(--green)">@plugin_tool(</span>
    name=<span style="color:var(--orange)">"my_custom_tool"</span>,
    description=<span style="color:var(--orange)">"What this tool does"</span>,
    parameters={<span style="color:var(--orange)">"input"</span>: <span style="color:var(--orange)">"Description of input"</span>}
<span style="color:var(--green)">)</span>
<span style="color:var(--cyan)">async def</span> <span style="color:var(--accent)">my_custom_tool</span>(input: str) -> str:
    <span style="color:var(--text-muted)"># Your code here</span>
    <span style="color:var(--cyan)">return</span> f<span style="color:var(--orange)">"Result: {input}"</span>
          </div>
        </div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â• HELP PAGE â•â•â•â•â•â•â•â• -->
    <div id="page-help" class="page hidden">
      <div class="main-header">
        <h2>â“ Help & FAQ</h2>
      </div>
      <div class="page-content fade-in" style="max-width:800px">
        <div class="card" style="margin-bottom:16px; cursor:pointer" onclick="this.querySelector('.faq-answer').classList.toggle('hidden')">
          <h3 class="card-title">ğŸš€ How do I get started?</h3>
          <div class="faq-answer" style="margin-top:12px; color:var(--text-secondary); font-size:0.9rem">
            <ol style="padding-left:20px; display:flex; flex-direction:column; gap:8px">
              <li><strong>Settings â†’ API Keys</strong> â€” Enter your API key (OpenAI, Anthropic, or use Ollama for free)</li>
              <li><strong>Dashboard â†’ New Agent</strong> â€” Pick a template and model</li>
              <li><strong>Chat</strong> â€” Start talking to your agent!</li>
            </ol>
          </div>
        </div>

        <div class="card" style="margin-bottom:16px; cursor:pointer" onclick="this.querySelector('.faq-answer').classList.toggle('hidden')">
          <h3 class="card-title">ğŸ’° Which model is cheapest?</h3>
          <div class="faq-answer hidden" style="margin-top:12px; color:var(--text-secondary); font-size:0.9rem">
            <p><strong>Free:</strong> Ollama with Llama 3 â€” runs locally on your computer, no API costs.</p>
            <p style="margin-top:8px"><strong>Cheapest paid:</strong> GPT-4o Mini (~$0.001/message) or Claude Haiku (~$0.001/message).</p>
            <p style="margin-top:8px"><strong>Best quality:</strong> GPT-4o or Claude Sonnet (~$0.01/message).</p>
          </div>
        </div>

        <div class="card" style="margin-bottom:16px; cursor:pointer" onclick="this.querySelector('.faq-answer').classList.toggle('hidden')">
          <h3 class="card-title">ğŸŒ How do I access this from another computer?</h3>
          <div class="faq-answer hidden" style="margin-top:12px; color:var(--text-secondary); font-size:0.9rem">
            <p>If Jarvis runs on a VPS/server, you have 3 options:</p>
            <ol style="padding-left:20px; margin-top:8px; display:flex; flex-direction:column; gap:6px">
              <li><strong>SSH Tunnel</strong> (simplest): <code style="background:var(--bg-input);padding:2px 6px;border-radius:3px">ssh -L 8080:localhost:8080 user@your-server</code> then open localhost:8080</li>
              <li><strong>Nginx + SSL</strong> (professional): Point a domain, get free HTTPS via Let's Encrypt</li>
              <li><strong>Cloudflare Tunnel</strong> (no ports): Zero port forwarding needed, free SSL</li>
            </ol>
            <p style="margin-top:8px">See the full <strong>VPS Deploy Guide</strong> in docs/VPS_DEPLOY.md</p>
          </div>
        </div>

        <div class="card" style="margin-bottom:16px; cursor:pointer" onclick="this.querySelector('.faq-answer').classList.toggle('hidden')">
          <h3 class="card-title">ğŸ”Œ How do I add custom tools?</h3>
          <div class="faq-answer hidden" style="margin-top:12px; color:var(--text-secondary); font-size:0.9rem">
            <p>Drop a Python file in the <code style="background:var(--bg-input);padding:2px 6px;border-radius:3px">plugins/</code> folder with the <code style="background:var(--bg-input);padding:2px 6px;border-radius:3px">@plugin_tool</code> decorator. See the Plugins page for examples.</p>
          </div>
        </div>

        <div class="card" style="margin-bottom:16px; cursor:pointer" onclick="this.querySelector('.faq-answer').classList.toggle('hidden')">
          <h3 class="card-title">ğŸ¤– Can different agents use different models?</h3>
          <div class="faq-answer hidden" style="margin-top:12px; color:var(--text-secondary); font-size:0.9rem">
            <p>Yes! When creating an agent, pick any model from the dropdown. You can have a trading bot on GPT-4o and a research agent on Claude, running simultaneously.</p>
          </div>
        </div>

        <div class="card" style="margin-bottom:16px; cursor:pointer" onclick="this.querySelector('.faq-answer').classList.toggle('hidden')">
          <h3 class="card-title">ğŸ“Š Is my data safe?</h3>
          <div class="faq-answer hidden" style="margin-top:12px; color:var(--text-secondary); font-size:0.9rem">
            <p>Everything runs on your own machine or VPS. No data is sent to us. Your conversations, memory, and API keys stay local. With Ollama, even the AI runs locally â€” 100% offline capable.</p>
          </div>
        </div>

        <div class="card" style="margin-bottom:16px; cursor:pointer" onclick="this.querySelector('.faq-answer').classList.toggle('hidden')">
          <h3 class="card-title">ğŸ”„ How do I update?</h3>
          <div class="faq-answer hidden" style="margin-top:12px; color:var(--text-secondary); font-size:0.9rem">
            <p><code style="background:var(--bg-input);padding:2px 6px;border-radius:3px">cd jarvis-os && git pull && docker compose up -d --build</code></p>
            <p style="margin-top:8px">Your data and configuration are preserved between updates.</p>
          </div>
        </div>

        <div class="card" style="cursor:pointer" onclick="this.querySelector('.faq-answer').classList.toggle('hidden')">
          <h3 class="card-title">ğŸ†˜ Something's not working</h3>
          <div class="faq-answer hidden" style="margin-top:12px; color:var(--text-secondary); font-size:0.9rem">
            <ol style="padding-left:20px; display:flex; flex-direction:column; gap:6px">
              <li>Check the <strong>Logs</strong> page for error messages</li>
              <li>Run <code style="background:var(--bg-input);padding:2px 6px;border-radius:3px">docker compose logs -f</code> for detailed output</li>
              <li>Verify your API key is valid in Settings</li>
              <li>Restart: <code style="background:var(--bg-input);padding:2px 6px;border-radius:3px">docker compose restart</code></li>
            </ol>
          </div>
        </div>
      </div>
    </div>

  </main>
</div>

<!-- â•â•â•â•â•â•â•â• NEW AGENT MODAL â•â•â•â•â•â•â•â• -->
<div class="modal-overlay" id="new-agent-modal">
  <div class="modal">
    <h3 class="modal-title">Create New Agent</h3>
    <p class="modal-subtitle">Choose a template and configure your agent.</p>

    <div class="form-group">
      <label class="form-label">Agent Name</label>
      <input type="text" class="form-input" id="new-agent-name" placeholder="my-trading-bot">
    </div>

    <div class="form-group">
      <label class="form-label">Template</label>
      <div class="template-grid" id="template-picker">
        <div class="template-option selected" data-template="trading">
          <div class="template-icon">ğŸ’¹</div>
          <div class="template-name">Trading</div>
          <div class="template-desc">Crypto trading & analysis</div>
        </div>
        <div class="template-option" data-template="research">
          <div class="template-icon">ğŸ”¬</div>
          <div class="template-name">Research</div>
          <div class="template-desc">Web research & briefings</div>
        </div>
        <div class="template-option" data-template="content">
          <div class="template-icon">âœï¸</div>
          <div class="template-name">Content</div>
          <div class="template-desc">Social media & writing</div>
        </div>
        <div class="template-option" data-template="social-media">
          <div class="template-icon">ğŸ“±</div>
          <div class="template-name">Social Media</div>
          <div class="template-desc">Twitter/X growth</div>
        </div>
        <div class="template-option" data-template="support">
          <div class="template-icon">ğŸ§</div>
          <div class="template-name">Support</div>
          <div class="template-desc">Customer support bot</div>
        </div>
        <div class="template-option" data-template="devops">
          <div class="template-icon">ğŸ› ï¸</div>
          <div class="template-name">DevOps</div>
          <div class="template-desc">Infrastructure & monitoring</div>
        </div>
        <div class="template-option" data-template="personal-assistant">
          <div class="template-icon">ğŸ§‘â€ğŸ’¼</div>
          <div class="template-name">Assistant</div>
          <div class="template-desc">Personal AI assistant</div>
        </div>
        <div class="template-option" data-template="custom">
          <div class="template-icon">âš¡</div>
          <div class="template-name">Custom</div>
          <div class="template-desc">Build from scratch</div>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label class="form-label">LLM Model</label>
      <select class="form-select" id="new-agent-model">
        <optgroup label="OpenAI">
          <option value="gpt-4o" selected>GPT-4o â€” Best overall</option>
          <option value="gpt-4o-mini">GPT-4o Mini â€” Fast & cheap</option>
          <option value="gpt-4.1">GPT-4.1 â€” Latest, best coding</option>
          <option value="gpt-4.1-mini">GPT-4.1 Mini â€” Latest budget</option>
          <option value="gpt-4.1-nano">GPT-4.1 Nano â€” Fastest</option>
          <option value="o3">o3 â€” Reasoning, complex tasks</option>
          <option value="o3-mini">o3-mini â€” Reasoning, cheaper</option>
          <option value="o4-mini">o4-mini â€” Latest reasoning</option>
        </optgroup>
        <optgroup label="Anthropic">
          <option value="claude-sonnet-4-20250514">Claude Sonnet 4 â€” Best quality</option>
          <option value="claude-3-5-haiku-20241022">Claude 3.5 Haiku â€” Fast & cheap</option>
          <option value="claude-3-5-sonnet-20241022">Claude 3.5 Sonnet â€” Proven</option>
        </optgroup>
        <optgroup label="Google">
          <option value="gemini-2.5-pro">Gemini 2.5 Pro â€” Most capable</option>
          <option value="gemini-2.5-flash">Gemini 2.5 Flash â€” Fast & efficient</option>
          <option value="gemini-2.0-flash">Gemini 2.0 Flash â€” Reliable</option>
        </optgroup>
        <optgroup label="Ollama (Local â€” Free)">
          <option value="llama3.1">Llama 3.1 8B â€” Best open-source</option>
          <option value="llama3.1:70b">Llama 3.1 70B â€” Near GPT-4</option>
          <option value="mistral">Mistral 7B â€” Fast general</option>
          <option value="deepseek-coder-v2">DeepSeek Coder V2 â€” Best for code</option>
          <option value="phi3:mini">Phi-3 Mini â€” Smallest (4GB RAM)</option>
        </optgroup>
      </select>
    </div>

    <div class="form-group">
      <label class="form-label">Personality</label>
      <textarea class="form-textarea" id="new-agent-personality" rows="2" placeholder="Describe how the agent should behave..."></textarea>
      <div class="form-hint">Leave blank to use template default.</div>
    </div>

    <div class="modal-actions">
      <button class="btn btn-secondary" onclick="closeNewAgentModal()">Cancel</button>
      <button class="btn btn-primary" onclick="createAgent()">ğŸš€ Create Agent</button>
    </div>
  </div>
</div>

<!-- Toast container -->
<div class="toast-container" id="toast-container"></div>

<script src="/static/js/app.js"></script>
</body>
</html>
